import{a as u,ah as f,r as l,y as c,j as s,L as p}from"./index-BKTyCQbG.js";import{u as j,c as g,b as d,h as o}from"./handleClassess-DLkxagLu.js";import{S as v}from"./Spinner-DGg7lN7S.js";const L=()=>{const r=u(),[m,{isSuccess:t,isError:n,isLoading:h,error:i}]=f(),e=j({initialValues:{email:"",password:""},validationSchema:g({email:d().required("Enter Email"),password:d().required("Enter Password")}),onSubmit:(a,{resetForm:x})=>{m(a),x()}});return l.useEffect(()=>{t&&(c.success("admin login success"),r("/rental"))},[t]),l.useEffect(()=>{var a;n&&c.error(((a=i==null?void 0:i.data)==null?void 0:a.message)||"something went wrong")},[n]),l.useEffect(()=>{localStorage.getItem("rental")&&r("/rental")},[r]),h?s.jsxs(s.Fragment,{children:["please wait.... ",s.jsx(v,{})]}):s.jsx(s.Fragment,{children:s.jsx("form",{onSubmit:e.handleSubmit,children:s.jsx("div",{class:"container",children:s.jsx("div",{class:"row",children:s.jsx("div",{class:"col-sm-6 offset-sm-3",children:s.jsxs("div",{class:"card",children:[s.jsx("div",{class:"card-header",children:"Rental Login"}),s.jsxs("div",{class:"card-body",children:[s.jsxs("div",{children:[s.jsx("label",{for:"email",class:"form-label",children:"Email"}),s.jsx("input",{type:"text",className:o(e,"email"),...e.getFieldProps("email"),id:"email",placeholder:"Enter Your Email"}),s.jsx("div",{class:"valid-feedback",children:"Looks good!"}),s.jsx("div",{class:"invalid-feedback",children:e.errors.email})]}),s.jsxs("div",{class:"mt-2",children:[s.jsx("label",{for:"password",class:"form-label",children:"Password"}),s.jsx("input",{type:"password",className:o(e,"password"),...e.getFieldProps("password"),id:"password",placeholder:"Enter Your Password"}),s.jsx("div",{class:"valid-feedback",children:"Looks good!"}),s.jsx("div",{class:"invalid-feedback",children:e.errors.password})]}),s.jsx("button",{type:"submit",class:"btn btn-primary w-100 mt-3",children:"Login"}),s.jsxs("p",{class:"text-center mt-3",children:["Dont Have Account? ",s.jsx(p,{to:"/rental-register",children:s.jsx("a",{href:"#",children:"Create Account"})})]})]})]})})})})})})};export{L as default};
