import{a as h,f,R as u,r as b,y as a,j as e}from"./index-BKTyCQbG.js";const p=()=>{const d=h(),{state:x}=f(),{editData:s,passengers:c,totalAmount:r}=x||{},[m,{isLoading:i,isSuccess:l,isError:o,error:t}]=u();b.useEffect(()=>{var n;l&&(a.success("Flight booked successfully!"),d("/asuccess",{state:{editData:s,passengers:c,totalAmount:r}})),o&&a.error(((n=t==null?void 0:t.data)==null?void 0:n.message)||"Booking failed")},[l,o]);const j=async()=>{try{await m({flightId:s._id,passengers:c,bamount:r,editData:s})}catch(n){console.error(n)}};return e.jsx("div",{className:"container d-flex justify-content-center align-items-center mt-5 mb-5",children:e.jsxs("div",{className:"card shadow-lg p-4 w-100",style:{maxWidth:"500px"},children:[e.jsxs("div",{className:"mb-2 d-flex justify-content-between",children:[e.jsx("span",{children:"Airline"}),e.jsx("strong",{children:s==null?void 0:s.name})]}),e.jsxs("div",{className:"mb-2 d-flex justify-content-between",children:[e.jsx("span",{children:"Flight No"}),e.jsx("strong",{children:s==null?void 0:s.number})]}),e.jsxs("div",{className:"mb-2 d-flex justify-content-between",children:[e.jsx("span",{children:"Route"}),e.jsxs("strong",{className:"text-capitalize",children:[s==null?void 0:s.from," → ",s==null?void 0:s.to]})]}),e.jsxs("div",{className:"mb-2 d-flex justify-content-between",children:[e.jsx("span",{children:"Date"}),e.jsxs("strong",{children:[s==null?void 0:s.departDate," → ",s==null?void 0:s.arriveDate]})]}),e.jsxs("div",{className:"mb-2 d-flex justify-content-between",children:[e.jsx("span",{children:"Time"}),e.jsxs("strong",{children:[s==null?void 0:s.departTime," → ",s==null?void 0:s.arriveTime]})]}),e.jsxs("div",{className:"mb-2 d-flex justify-content-between",children:[e.jsx("span",{children:"Passengers"}),e.jsx("strong",{children:c})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between fs-5",children:[e.jsx("span",{children:"Total Paid"}),e.jsxs("strong",{className:"text-success",children:["₹",r]})]}),e.jsx("button",{className:"btn btn-outline-primary w-100 mt-4",onClick:j,disabled:i,children:i?"Booking...":"Confirm Booking"})]})})};export{p as default};
