import{u as S,r as t,x as A,z as v,A as E,B as N,y as n,j as e}from"./index-BKTyCQbG.js";import{S as _}from"./Spinner-DGg7lN7S.js";const T=()=>{const l=S(s=>s.auth.rental),m=l==null?void 0:l._id,[d,p]=t.useState({}),{data:o,isLoading:f,isSuccess:i}=A(m),[b,{isSuccess:u}]=v(),[g,{isSuccess:h}]=E(),[C,{isSuccess:x}]=N();t.useEffect(()=>{i&&n.success("booking get success")},[i]),t.useEffect(()=>{h&&n.success("booking delete success")},[h]),t.useEffect(()=>{u&&n.success("booking update success")},[u]),t.useEffect(()=>{x&&n.success("amount updated successfully")},[x]);const k=(s,c)=>{p(r=>({...r,[s]:c}))},y=s=>{if(!d[s]){n.error("Please enter amount");return}C({id:s,amount:d[s]})};return f?e.jsxs(e.Fragment,{children:["please wait... ",e.jsx(_,{})]}):e.jsx(e.Fragment,{children:o&&e.jsxs("table",{style:{maxWidth:"80%"},className:"table table-light table-hover table-bordered mt-5 mx-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Mobile"}),e.jsx("th",{children:"Vehicle"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Number"}),e.jsx("th",{children:"Capacity"}),e.jsx("th",{children:"Fuel"}),e.jsx("th",{children:"Pickup"}),e.jsx("th",{children:"Pickup Time"}),e.jsx("th",{children:"Drop"}),e.jsx("th",{children:"Drop Time"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Confirm"}),e.jsx("th",{children:"Cancel"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:o.result.map(s=>{var c,r,j;return e.jsxs("tr",{children:[e.jsx("td",{children:(c=s.customerId)==null?void 0:c.name}),e.jsx("td",{children:(r=s.customerId)==null?void 0:r.email}),e.jsx("td",{children:(j=s.customerId)==null?void 0:j.mobile}),e.jsx("td",{children:s.name}),e.jsx("td",{children:s.vtype}),e.jsx("td",{children:s.number}),e.jsx("td",{children:s.capacity}),e.jsx("td",{children:s.ftype}),e.jsx("td",{children:s.pickup}),e.jsx("td",{children:s.pickupTime}),e.jsx("td",{children:s.drop}),e.jsx("td",{children:s.dropTime}),e.jsx("td",{children:s.amount?e.jsxs("strong",{children:["â‚¹",s.amount]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"number",className:"form-control mb-1",placeholder:"Enter amount",value:d[s._id]||"",onChange:a=>k(s._id,a.target.value)}),e.jsx("button",{className:"btn btn-sm btn-primary w-100",onClick:()=>y(s._id),children:"Add"})]})}),e.jsx("td",{children:e.jsxs("select",{className:"form-control",value:s.isConfirm,onChange:a=>b({id:s._id,isConfirm:a.target.value==="true"}),children:[e.jsx("option",{value:!0,children:"Confirm"}),e.jsx("option",{value:!1,children:"Not Confirm"})]})}),e.jsx("td",{children:s.isCancel?"cancel":"not cancel"}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>g(s._id),children:"delete"})})]},s._id)})})]})})};export{T as default};
